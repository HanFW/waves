<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/onlineBankingTemplate.xhtml"
                xmlns:ezcomp="http://xmlns.jcp.org/jsf/composite/ezcomp">
    <ui:define name="content">
        <p:panel>
            <p:outputLabel value="Welcome "/>
            <p:outputLabel value="#{customerLoginManagedBean.customer.customerName}"/>
        </p:panel>

        <h:form>
            <div align="center">
                <p:messages id="msg" autoUpdate="true"/>
                <p:wizard widgetVar ="riskToleranceTestWizard" flowListener="#{customerOnlineRiskToleranceTestManagedBean.onFlowProcess}" class="ui-lg-12" showNavBar="false">

                    <p:tab id="q1">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="0">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <div align="left" class="ui-lg-6">
                            <p:outputLabel value="1. My age is" style="font-size: 20px"/>
                            <br/>
                            <br/>
                            <p:selectOneRadio required="true" requiredMessage="Please answer the current question before proceeding to next one" value="#{customerOnlineRiskToleranceTestManagedBean.answer1}" layout="pageDirection">
                                <f:selectItem itemLabel="0-44" itemValue="3" />
                                <br/>
                                <f:selectItem itemLabel="45-64" itemValue="2" />
                                <br/>
                                <f:selectItem itemLabel="65 and above" itemValue="1" />
                                <br/>
                            </p:selectOneRadio>
                        </div>

                        <h:panelGrid columns="2" class="ui-lg-6"> 
                            <p:commandButton  value="Back" icon="ui-icon-arrow-1-w" iconPos="left" onclick="PF('riskToleranceTestWizard').back();" disabled="true"/>
                            <p:commandButton  value="Next" icon="ui-icon-arrow-1-e" iconPos="right" onclick="PF('riskToleranceTestWizard').next()" update="msg"/>
                        </h:panelGrid>

                    </p:tab>

                    <p:tab id="q2">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="1">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <div align="left" class="ui-lg-6">
                            <p:outputLabel value="2. What portion of your monthly income would your like to set aside for investments? Please note that there is a potential for loss of your capital when investing in investment products*." style="font-size: 20px"/>
                            <p:selectOneRadio required="true" requiredMessage="Please answer the current question before proceeding to next one"  value="#{customerOnlineRiskToleranceTestManagedBean.answer2}" layout="pageDirection">
                                <f:selectItem itemLabel="0%" itemValue="1" />
                                <f:selectItem itemLabel="Between >0% and 50%" itemValue="2" />
                                <f:selectItem itemLabel="Over 50%" itemValue="3" />
                            </p:selectOneRadio>
                        </div>

                        <h:panelGrid columns="2" class="ui-lg-6"> 
                            <p:commandButton  value="Back" icon="ui-icon-arrow-1-w" iconPos="left" onclick="PF('riskToleranceTestWizard').back();" />
                            <p:commandButton  value="Next" icon="ui-icon-arrow-1-e" iconPos="right" onclick="PF('riskToleranceTestWizard').next()" update="msg"/>
                        </h:panelGrid>

                    </p:tab>

                    <p:tab id="q3">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="2">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <div align="left" class="ui-lg-6">
                            <p:outputLabel value="3.Which of the following sample portfolio would be most attractive to you? Note: Investments carrying a higher risk come with the potential of achieving more gains, but also a higher possibility of incurring considerable losses. " style="font-size: 20px"/>
                            <p:selectOneRadio required="true" requiredMessage="Please answer the current question before proceeding to next one"  value="#{customerOnlineRiskToleranceTestManagedBean.answer3}" layout="pageDirection">
                                <f:selectItem itemLabel="Portfolio (a) - I am willing to accept a potential loss of up to 3% for up to 9% upside." itemValue="1" />
                                <f:selectItem itemLabel="Portfolio (b) - I am willing to accept a potential loss of 10% for up to 18% upside." itemValue="2" />
                                <f:selectItem itemLabel="Portfolio (c) - I am willing to accept a potential loss of 15% for up to 25% upside." itemValue="3" />
                                <f:selectItem itemLabel="Portfolio (d) - I am willing to accept a potential loss of 20% for up to 31% upside." itemValue="4" />
                                <f:selectItem itemLabel="Portfolio (e) - I am willing to accept a potential loss of 27% for up to 40% upside." itemValue="5" />
                            </p:selectOneRadio>
                        </div>

                        <h:panelGrid columns="2" class="ui-lg-6"> 
                            <p:commandButton  value="Back" icon="ui-icon-arrow-1-w" iconPos="left" onclick="PF('riskToleranceTestWizard').back();" />
                            <p:commandButton  value="Next" icon="ui-icon-arrow-1-e" iconPos="right" onclick="PF('riskToleranceTestWizard').next()" update="msg"/>
                        </h:panelGrid>

                    </p:tab>

                    <p:tab id="q4">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="3">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <div align="left" class="ui-lg-6">
                            <p:outputLabel value="4.What will you do with your investments if the value drops over a period of time due to market fluctuations?" style="font-size: 20px"/>
                            <p:selectOneRadio required="true" requiredMessage="Please answer the current question before proceeding next one" value="#{customerOnlineRiskToleranceTestManagedBean.answer4}" layout="pageDirection">
                                <f:selectItem itemLabel="I do not wish to hold on to any investments at a loss and will sell the investments immediately even if the drop in value is small." itemValue="1" />
                                <f:selectItem itemLabel="I will sell the investments if the drop in value is large." itemValue="2" />
                                <f:selectItem itemLabel="I will sell some of the investments if the drop in value is large, and wait for the remaining investments to recover in value." itemValue="3" />
                                <f:selectItem itemLabel="I will not sell the investments, regardless of the drop in value, as I would like to wait for the investment to recover in value." itemValue="4" />
                                <f:selectItem itemLabel="I will not sell the investments, regardless of the drop in value, and will buy more to capitalize on the cheaper price." itemValue="5" />
                            </p:selectOneRadio>
                        </div>

                        <h:panelGrid columns="2" class="ui-lg-6"> 
                            <p:commandButton  value="Back" icon="ui-icon-arrow-1-w" iconPos="left" onclick="PF('riskToleranceTestWizard').back();" />
                            <p:commandButton  value="Next" icon="ui-icon-arrow-1-e" iconPos="right" onclick="PF('riskToleranceTestWizard').next()" update="msg"/>
                        </h:panelGrid>
                    </p:tab>

                    <p:tab id="q5">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="4">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <div align="left" class="ui-lg-6">
                            <p:outputLabel value="5.Choose the statement that best describes your current investment strategy or experience." style="font-size: 20px"/>
                            <p:selectOneRadio required="true" requiredMessage="Please answer the current question before proceeding to next one" value="#{customerOnlineRiskToleranceTestManagedBean.answer5}" layout="pageDirection">
                                <f:selectItem itemLabel="Other than savings accounts or fixed deposits, I have very little investment experience." itemValue="1" />
                                <f:selectItem itemLabel="I have invested some money into stocks, bonds or mutual funds with the balance of my investments in savings accounts or fixed deposits." itemValue="2" />
                                <f:selectItem itemLabel="The majority of my investment holdings are in a variety of stocks, bonds or mutual funds with a small portion held in a savings account for liquidity purposes." itemValue="3" />
                            </p:selectOneRadio>
                        </div>

                        <h:panelGrid columns="2" class="ui-lg-6"> 
                            <p:commandButton  value="Back" icon="ui-icon-arrow-1-w" iconPos="left" onclick="PF('riskToleranceTestWizard').back();" />
                            <p:commandButton  value="Next" icon="ui-icon-arrow-1-e" iconPos="right" onclick="PF('riskToleranceTestWizard').next()" update="msg"/>
                        </h:panelGrid>

                    </p:tab>

                    <p:tab id="q6">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="5">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <div align="left" class="ui-lg-6">
                            <p:outputLabel value="6. How interested are you in trying to catch short-term trends versus adopting a long term buy and hold strategy?" style="font-size: 20px"/>
                            <p:selectOneRadio required="true" requiredMessage="Please answer the current question before proceeding to next one" value="#{customerOnlineRiskToleranceTestManagedBean.answer6}" layout="pageDirection">
                                <f:selectItem itemLabel="I am a long term buy and hold investor and am not overly concerned about short term market trends." itemValue="1" />
                                <f:selectItem itemLabel="I would consider purchasing a popular stock but it's not critical." itemValue="2" />
                                <f:selectItem itemLabel="I believe in trying to catch market trends as doing so may considerably enhance my returns." itemValue="3" />
                            </p:selectOneRadio>
                        </div>

                        <h:panelGrid columns="2" class="ui-lg-6"> 
                            <p:commandButton  value="Back" icon="ui-icon-arrow-1-w" iconPos="left" onclick="PF('riskToleranceTestWizard').back();" />
                            <p:commandButton  value="Confirm" icon="ui-icon-arrow-1-e" iconPos="right" actionListener="#{customerOnlineRiskToleranceTestManagedBean.calculateRiskTestScore}" update="msg"/>
                        </h:panelGrid>

                    </p:tab>

                    <p:tab id="completion">
                        <h:panelGrid columns="1">
                            <p:steps activeIndex="6">
                                <p:menuitem value="Q1" />
                                <p:menuitem value="Q2" />
                                <p:menuitem value="Q3" />
                                <p:menuitem value="Q4" />
                                <p:menuitem value="Q5" />
                                <p:menuitem value="Q6" />
                                <p:menuitem value="View Result" />
                            </p:steps>
                        </h:panelGrid>

                        <p:panel>
                            <h:outputText value="Your tolerance to investment risk has been assessed as:" style="font-size:20px"/>
                            <br/>
                            <br/>
                            <h:outputText style="font-weight: bold; font-size: 30px" value="Aggressive" rendered="#{customerOnlineRiskToleranceTestManagedBean.risk1}"/>
                            <h:outputText style="font-weight: bold; font-size: 30px" value="Moderate" rendered="#{customerOnlineRiskToleranceTestManagedBean.risk2}"/>
                            <h:outputText style="font-weight: bold; font-size: 30px" value="Conservative" rendered="#{customerOnlineRiskToleranceTestManagedBean.risk3}"/>
                            <br/>
                            <br/>
                            <br/>
                            <div align="left" class="ui-lg-5">
                                <h:outputText value="Note:You may want to consider Moderate Portfolio solution below, which are designed to best suit your needs based on your risk profile."/>
                            </div>
                            <br/>
                        </p:panel>
                        <br/>
                        <div class="ui-lg-5">
                            <p:chart type="pie" model="#{customerOnlineRiskToleranceTestManagedBean.pieModel1}" rendered="#{customerOnlineRiskToleranceTestManagedBean.risk1}" responsive="true"/>
                            <p:chart type="pie" model="#{customerOnlineRiskToleranceTestManagedBean.pieModel2}" rendered="#{customerOnlineRiskToleranceTestManagedBean.risk2}" responsive="true"/>
                            <p:chart type="pie" model="#{customerOnlineRiskToleranceTestManagedBean.pieModel3}" rendered="#{customerOnlineRiskToleranceTestManagedBean.risk3}" responsive="true"/>
                        </div>
                    </p:tab>
                </p:wizard>

            </div>
        </h:form>
    </ui:define>
</ui:composition>

