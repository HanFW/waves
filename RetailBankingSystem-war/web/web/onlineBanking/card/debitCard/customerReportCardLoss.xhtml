<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/onlineBankingTemplate.xhtml"
                xmlns:ezcomp="http://xmlns.jcp.org/jsf/composite/ezcomp">
    <ui:define name="content">

        <h:body>

            <div align="center">
                <h:form>
                    <p:panel>
                        <p:outputLabel value="Welcome "/>
                        <p:outputLabel value="#{customerLoginManagedBean.customer.customerName}"/>
                    </p:panel>

                    <p:messages autoUpdate="true"/>

                    <p:outputLabel style="font-size: 40px;font-weight: bold" value="Report loss"/>
                    <br/>
                    <br/>

                    <p:outputLabel style="font-size: 20px;font-weight: bold" value="Important"/>
                    <br/>
                    <br/>

                    <p:outputLabel style="font-size: 20px" value="Please note that once the card is resported as loss, it will be cancelled immediately. "/>
                    <br/>

                    <p:outputLabel style="font-size: 20px" value="We will arrange a new card and send the card to you in 2 - 3 working days."/>
                    <br/>

                    <p:outputLabel style="font-size: 20px" value="Once you report that your card is lost or stolen, you will not be liable for any fradulent
                                   transactions on your lost or stolen card from the time you notify us."/>
                    <br/>

                    <h:panelGrid columns="3" class="ui-lg-6"> 

                        <p:outputLabel value="Card Type:"/>
                        <p:selectOneRadio required="true" requiredMessage="Please select card type" id="cardType" value="#{customerReportLossManagedBean.cardType}">
                            <f:selectItem itemLabel="Credit Card" itemValue="credit" />
                            <f:selectItem itemLabel="Debit Card" itemValue="debit" />
                            <p:ajax event="change" update="creditPanel debitPanel" listener="#{customerReportLossManagedBean.showCards}"/>
                        </p:selectOneRadio>
                        <p:messages for="cardType"/>

                        <p:panel id="debitPanel" visible="#{customerReportLossManagedBean.debitPanelVisible}">
                            <p:outputLabel value="Debit Card"/>
                            <p:selectOneMenu id="selectCard" required="#{customerReportLossManagedBean.debitPanelVisible}" requiredMessage="Please select a debit card" style="text-align:left" value="#{customerReportLossManagedBean.selectedDebitCard}">
                                <f:selectItem itemLabel="Please select..." itemValue=""/>
                                <f:selectItems value="#{customerReportLossManagedBean.debitCards}"/> 
                            </p:selectOneMenu>
                            <p:message for="selectCard"/>

                            <p:outputLabel value="Card Password:" />
                            <p:inputText  required="#{customerReportLossManagedBean.debitPanelVisible}" requiredMessage="Please input your card password" id="cardPwd" value="#{customerReportLossManagedBean.debitCardPwd}">
                               
                            </p:inputText>
                            <p:message for="cardPwd"/>
                            <p:commandButton value="Confirm" actionListener="#{customerReportLossManagedBean.reportCardLoss}"/>             
                        </p:panel>
                        
                        <p:panel id="creditPanel" visible="#{customerReportLossManagedBean.creditPanelVisible}">
                            <p:outputLabel value="Credit Card"/>
                            <p:selectOneMenu id="selectCreditCard" required="#{customerReportLossManagedBean.creditPanelVisible}" requiredMessage="Please select a credit card" style="text-align:left" value="#{customerReportLossManagedBean.selectedCreditCard}">
                                <f:selectItem itemLabel="Please select..." itemValue=""/>
                                <f:selectItems value="#{customerReportLossManagedBean.creditCards}"/> 
                            </p:selectOneMenu>
                            <p:message for="selectCreditCard"/>   

                            <p:outputLabel value="Your NRIC/Passport number:" />
                            <p:inputText  required="#{customerReportLossManagedBean.creditPanelVisible}" requiredMessage="Please input your NRIC/passport number" id="cardccs" value="#{customerReportLossManagedBean.identificationNum}">
                               
                            </p:inputText>
                            <p:messages for="cardccs"/>

                            <p:commandButton value="Confirm" actionListener="#{customerReportLossManagedBean.reportCardLoss}"/>        
                        </p:panel>
                    </h:panelGrid>
                </h:form>

            </div>
        </h:body>

    </ui:define>
</ui:composition>
