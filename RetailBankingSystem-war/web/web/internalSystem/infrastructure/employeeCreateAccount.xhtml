<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Employee Account Management</title>
    </h:head>
    <h:body>
        <h:form>
            <h1>Add a New User Account</h1>
            <p:messages globalOnly="true"/>
            <p:panelGrid>
                <p:row>
                    <p:column>
                        <p:outputLabel for="employeeName" style="font-weight: bold" value="Name: " />
                        <p:outputLabel style="font-weight: bold" value="(As per NRIC/Passport): " />
                    </p:column>
                    <p:column>
                        <p:inputText label="Employee Name" id="employeeName"
                                     value="#{employeeAccountManagedBean.employeeName}">
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message for="employeeName" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="employeeNRIC" style="font-weight: bold" value="NRIC No.: " />
                    </p:column>
                    <p:column>
                        <p:inputText validatorMessage="Please provide a valid NRIC number" label="Employee NRIC" id="employeeNRIC"
                                     value="#{employeeAccountManagedBean.employeeNRIC}">
                            <f:validateLength minimum="9" maximum="9" /> 
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message for="employeeNRIC" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="employeeDepartment" style="font-weight: bold" value="Department: " />
                    </p:column>
                    <p:column>
                        <p:selectOneMenu id="employeeDepartment" value="#{employeeAccountManagedBean.employeeDepartment}" 
                                         style="width:125px">
                            <f:selectItem itemLabel="Please Select" itemValue=" " />
                            <f:selectItem itemLabel="CEO" itemValue="CEO" />
                            <f:selectItem itemLabel="Card Department" itemValue="Card Department" />
                            <f:selectItem itemLabel="Loan Department" itemValue="Loan Department" />
                            <f:selectItem itemLabel="Sales Department" itemValue="Sales Department" />
                            <f:selectItem itemLabel="Operation Department" itemValue="Operation Department" />
                        </p:selectOneMenu>            
                    </p:column>
                    <p:column>
                        <p:message for="employeeDepartment" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="employeePosition" style="font-weight: bold" value="Position: " />
                    </p:column>
                    <p:column>
                        <p:selectOneMenu id="employeePosition" value="#{employeeAccountManagedBean.employeePosition}" 
                                         style="width:125px">
                            <f:selectItem itemLabel="Please Select" itemValue=" " />
                            <f:selectItem itemLabel="CEO" itemValue="CEO" />
                            <f:selectItem itemLabel="Manager" itemValue="Manager" />
                            <f:selectItem itemLabel="Officer" itemValue="Officer" />
                            <f:selectItem itemLabel="Mortgage Appraiser" itemValue="Mortgage Appraiser" />
                            <f:selectItem itemLabel="Underwriter" itemValue="Underwriter" />
                            <f:selectItem itemLabel="Relationship Manager" itemValue="Relationship Manager" />
                            <f:selectItem itemLabel="Counter Teller" itemValue="Counter Teller" />
                            <f:selectItem itemLabel="Call Center Staff" itemValue="Call Center Staff" />
                        </p:selectOneMenu>
                        <p:column>
                            <p:message for="employeePosition" />
                        </p:column>
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="employeeMobileNum" style="font-weight: bold" value="Mobile No.: " />
                    </p:column>
                    <p:column>
                        <p:inputText converterMessage="invalid input" label="Employee Mobile Number" id="employeeMobileNum" validatorMessage="Please provide a valid mobile number"
                                     value="#{employeeAccountManagedBean.employeeMobileNum}">
                            <f:validateLength minimum="8" maximum="8"/>
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message for="employeeMobileNum" />
                    </p:column>
                </p:row>

                <p:row>
                    <p:column>
                        <p:outputLabel for="employeeEmail" style="font-weight: bold" value="Email: " />
                    </p:column>
                    <p:column>
                        <p:inputText validatorMessage="Please provide a valid email address" label="Employee Email" id="employeeEmail"
                                     value="#{employeeAccountManagedBean.employeeEmail}">
                            <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                        </p:inputText>
                    </p:column>
                    <p:column>
                        <p:message for="employeeEmail" />
                    </p:column>
                </p:row>

                <p:row>
                    <!--<h:form>-->

                    <p:column>
                        <h:outputLabel for="role" style="font-weight: bold" value="Role:" />
                    </p:column>
                    <p:column>
                        <p:selectCheckboxMenu id="menu" value="#{employeeAccountManagedBean.selectedRoles}" label="Select"
                                              filter="true" filterMatchMode="startsWith" panelStyle="width:250px">
                            <f:selectItems value="#{employeeAccountManagedBean.roles}" />
                        </p:selectCheckboxMenu>
                        <p:commandLink value="Confirm" style="margin-left: 20px" update="display"/>
                    </p:column>
                </p:row>

                <p:row>
                    <p:outputPanel id="display" style="width:250px;padding-left:5px">
                        <p:dataList value="#{employeeAccountManagedBean.selectedRoles}" var="role" emptyMessage="No roles selected">
                            #{role}
                        </p:dataList>
                    </p:outputPanel>
                    <!--</h:form>-->
                </p:row>
            </p:panelGrid>

            <p:row>
                <p:column colspan="2">
                    <p:commandButton type="submit" value="Submit" actionListener="#{employeeAccountManagedBean.createAccount}" update="@form"/>
                </p:column>
                <p:column colspan="2">
                    <p:commandButton style="width:20%" value="Submit and Add Another User Account" type="submit" actionListener="#{employeeAccountManagedBean.createAccount}"/>
                </p:column>
                <p:column colspan="2">
                    <p:commandButton value="Quit" type="submit" action="/web/internalSystem/infrastructure/employeeUserAccountManagement.xhtml" immediate="true"/>
                </p:column>
            </p:row>

        </h:form>


    </h:body>
</html>

